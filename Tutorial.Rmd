---
title: "Intro to Tidyquant"
author: "Jose Lopez Torres"
date: "January 18, 2019"
output: html_document
---

# Intro

So here we are, fellow reader, at the point where you need to represent some financial information on a report, and want to do something more interesting than copying images from Google. Don't want to go through the (very detailed) guide available on CRAN? Alright, read on then.

Tidyquant is a package that integrates information from reputable sources (Bloomberg, Yahoo Finance, etc.), and makes it readily available as tibbles for use in r. If you are an absolute beginner, I suggest that you start by downloading rstudio from [this link](https://www.rstudio.com/products/rstudio/download/), where you will be able to run the code that is included in this post.

# Getting Started

The first step towards using this package is installing it on r. It is as simple as running the following command from your r console:

`install.packages('tidyquant')`

And presto, We're ready to go! Just remember, before using functions from this package, you have to load the library (we're adding two at once here, in order to ease our handling of dates).

```{r gs2, include = TRUE, warning=FALSE, message=FALSE}
library(lubridate)
library(tidyquant)
```

# So, what can we do with it?

Now, we're going to focus in some of the functions from Tidyquant. If you'd like to know how far this package can take you, run the following instruction:

```{r st, include = TRUE}
tq_get_options()
```

This will display some of the functions available in Tidyquant as you dive deeper and advance your quest. For the purpose of this tutorial, I'll focus on subjects associated with stock price data, but just know you could use it to retrieve information about exchanges (NYSE, NASDAQ), currencies (USD, CAD, EUR, JPY) and even metals.

Alright, so to start I'll pick a stock. Let's go with Tesla.

```{r st1, include = TRUE}
TSLA <- tq_get("TSLA", get = "stock.prices", from = "2018-08-01", to = "2018-11-02")

glimpse(TSLA)
```

In this case, we used the symbol for Tesla (TSLA), to pull information between August 1st and November 2nd, 2018. As you can see on the table above, `tq_get()` finds intra-day information, like opening, closing, high and low prices, as well as transaction volume and adjusted value for the stock (to correct for splits).

Pretty neat, right? So what if you want to plot your own charts? You can use Tidyquant together with ggplot2 in order to create those. To achieve this, simply load `library(ggplot2)` (assuming you previously installed the package `install.packages('ggplot2')`), and wield more r power in your hands.

Do you want to see the closing price for Tesla over the period we quoted a few lines ago? Simply run:

```{r st2, echo=TRUE}

tsl <- ggplot(TSLA, aes(date, close)) + geom_line() +
  labs(title = "Tesla closing prices", 
       y = "Closing Price (in U$)",
       x = "Date") + 
  theme_tq()

plot(tsl)

```

Whoa! The chart is showing the daily closing price for Tesla for the 3-month period starting at the beginning of August.
